{"version":3,"file":"MultiSelect.js","sources":["../../../src/components/MultiSelect/MultiSelect.tsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport cx from 'clsx';\nimport { useId, useUncontrolled, useMergedRef } from '@mantine/hooks';\nimport { DefaultProps, MantineSize, mergeStyles, useMantineTheme } from '../../theme';\nimport { scrollIntoView } from '../../utils';\nimport { InputWrapper } from '../InputWrapper/InputWrapper';\nimport { Input } from '../Input/Input';\nimport { MantineTransition } from '../Transition/Transition';\nimport { DefaultValue, DefaultValueStylesNames } from './DefaultValue/DefaultValue';\nimport { DefaultItem } from '../Select/DefaultItem/DefaultItem';\nimport { filterData } from './filter-data/filter-data';\nimport { getSelectRightSectionProps } from '../Select/SelectRightSection/get-select-right-section-props';\nimport {\n  SelectItem,\n  SelectDataItem,\n  BaseSelectProps,\n  BaseSelectStylesNames,\n} from '../Select/types';\nimport { SelectItems } from '../Select/SelectItems/SelectItems';\nimport { SelectDropdown } from '../Select/SelectDropdown/SelectDropdown';\nimport useStyles from './MultiSelect.styles';\n\nexport type MultiSelectStylesNames =\n  | DefaultValueStylesNames\n  | Exclude<\n      keyof ReturnType<typeof useStyles>,\n      'searchInputEmpty' | 'searchInputInputHidden' | 'searchInputPointer'\n    >\n  | Exclude<BaseSelectStylesNames, 'selected'>;\n\nexport interface MultiSelectProps extends DefaultProps<MultiSelectStylesNames>, BaseSelectProps {\n  /** Input size */\n  size?: MantineSize;\n\n  /** Props passed to root element (InputWrapper component) */\n  wrapperProps?: Record<string, any>;\n\n  /** Data for select options */\n  data: SelectDataItem[];\n\n  /** Value for controlled component */\n  value?: string[];\n\n  /** Default value for uncontrolled component */\n  defaultValue?: string[];\n\n  /** Called each time value changes */\n  onChange?(value: string[]): void;\n\n  /** Component used to render values */\n  valueComponent?: React.FC<any>;\n\n  /** Component used to render item */\n  itemComponent?: React.FC<any>;\n\n  /** Dropdown body appear/disappear transition */\n  transition?: MantineTransition;\n\n  /** Dropdown body transition duration */\n  transitionDuration?: number;\n\n  /** Dropdown body transition timing function, defaults to theme.transitionTimingFunction */\n  transitionTimingFunction?: string;\n\n  /** Dropdown shadow from theme or any value to set box-shadow */\n  shadow?: string;\n\n  /** Maximum dropdown height in px */\n  maxDropdownHeight?: number;\n\n  /** Nothing found label */\n  nothingFound?: React.ReactNode;\n\n  /** Enable items searching */\n  searchable?: boolean;\n\n  /** Function based on which items in dropdown are filtered */\n  filter?(value: string, selected: boolean, item: SelectItem): boolean;\n\n  /** Limit amount of items displayed at a time for searchable select */\n  limit?: number;\n\n  /** Clear search value when item is selected */\n  clearSearchOnChange?: boolean;\n\n  /** Allow to clear item */\n  clearable?: boolean;\n\n  /** aria-label for clear button */\n  clearButtonLabel?: string;\n\n  /** Clear search field value on blur */\n  clearSearchOnBlur?: boolean;\n\n  /** Called each time search query changes */\n  onSearchChange?(query: string): void;\n\n  /** Initial dropdown opened state */\n  initiallyOpened?: boolean;\n\n  /** Get input ref */\n  elementRef?: React.ForwardedRef<HTMLInputElement>;\n}\n\nexport function defaultFilter(value: string, selected: boolean, item: SelectItem) {\n  if (selected) {\n    return false;\n  }\n\n  return item.label.toLowerCase().trim().includes(value.toLowerCase().trim());\n}\n\nexport function MultiSelect({\n  className,\n  style,\n  themeOverride,\n  required,\n  label,\n  description,\n  size = 'sm',\n  error,\n  classNames,\n  styles,\n  wrapperProps,\n  value,\n  defaultValue,\n  data,\n  onChange,\n  valueComponent: Value = DefaultValue,\n  itemComponent = DefaultItem,\n  id,\n  transition = 'pop-top-left',\n  transitionDuration = 0,\n  transitionTimingFunction,\n  maxDropdownHeight = 220,\n  shadow = 'sm',\n  nothingFound,\n  onFocus,\n  onBlur,\n  searchable = false,\n  placeholder,\n  filter = defaultFilter,\n  limit = Infinity,\n  clearSearchOnChange = true,\n  clearable = false,\n  clearSearchOnBlur = false,\n  clearButtonLabel,\n  variant,\n  onSearchChange,\n  disabled = false,\n  initiallyOpened = false,\n  radius = 'sm',\n  elementRef,\n  icon,\n  ...others\n}: MultiSelectProps) {\n  const theme = useMantineTheme(themeOverride);\n  const classes = useStyles({ theme, size, variant, invalid: !!error }, classNames, 'multi-select');\n  const _styles = mergeStyles(classes, styles);\n  const dropdownRef = useRef<HTMLDivElement>();\n  const inputRef = useRef<HTMLInputElement>();\n  const itemsRefs = useRef<Record<string, HTMLDivElement>>({});\n  const uuid = useId(id);\n  const [dropdownOpened, setDropdownOpened] = useState(initiallyOpened);\n  const [hovered, setHovered] = useState(-1);\n  const [searchValue, setSearchValue] = useState('');\n\n  const handleSearchChange = (val: string) => {\n    typeof onSearchChange === 'function' && onSearchChange(val);\n    setSearchValue(val);\n  };\n\n  const [_value, setValue] = useUncontrolled({\n    value,\n    defaultValue,\n    finalValue: [],\n    rule: (val) => Array.isArray(val),\n    onChange,\n  });\n\n  const formattedData = data.map((item) =>\n    typeof item === 'string' ? { label: item, value: item } : item\n  );\n\n  const handleValueRemove = (_val: string) => setValue(_value.filter((val) => val !== _val));\n\n  const handleInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setHovered(0);\n    handleSearchChange(event.currentTarget.value);\n    setDropdownOpened(true);\n  };\n\n  const handleInputFocus = (event: React.FocusEvent<HTMLInputElement>) => {\n    typeof onFocus === 'function' && onFocus(event);\n    setDropdownOpened(true);\n  };\n\n  const handleInputBlur = (event: React.FocusEvent<HTMLInputElement>) => {\n    typeof onBlur === 'function' && onBlur(event);\n    clearSearchOnBlur && handleSearchChange('');\n    setDropdownOpened(false);\n  };\n\n  const filteredData = filterData({\n    data: formattedData,\n    searchable,\n    searchValue,\n    limit,\n    filter,\n    value: _value,\n  });\n\n  const handleItemSelect = (item: SelectItem) => {\n    clearSearchOnChange && handleSearchChange('');\n\n    if (_value.includes(item.value)) {\n      handleValueRemove(item.value);\n    } else {\n      setValue([..._value, item.value]);\n      if (hovered === filteredData.length - 1) {\n        setHovered(filteredData.length - 2);\n      }\n    }\n  };\n\n  const handleInputKeydown = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    switch (event.nativeEvent.code) {\n      case 'ArrowUp': {\n        event.preventDefault();\n        setDropdownOpened(true);\n        setHovered((current) => {\n          const nextIndex = current > 0 ? current - 1 : current;\n          scrollIntoView(dropdownRef.current, itemsRefs.current[filteredData[nextIndex]?.value]);\n          return nextIndex;\n        });\n        break;\n      }\n\n      case 'ArrowDown': {\n        event.preventDefault();\n        setDropdownOpened(true);\n        setHovered((current) => {\n          const nextIndex = current < filteredData.length - 1 ? current + 1 : current;\n          scrollIntoView(dropdownRef.current, itemsRefs.current[filteredData[nextIndex]?.value]);\n          return nextIndex;\n        });\n        break;\n      }\n\n      case 'Enter': {\n        if (filteredData[hovered]) {\n          event.preventDefault();\n          handleItemSelect(filteredData[hovered]);\n        }\n\n        break;\n      }\n\n      case 'Backspace': {\n        if (_value.length > 0 && searchValue.length === 0 && searchable) {\n          setValue(_value.slice(0, -1));\n          setDropdownOpened(true);\n        }\n\n        break;\n      }\n\n      case 'Escape': {\n        setDropdownOpened(false);\n      }\n    }\n  };\n\n  const selectedItems = _value\n    .map((val) => formattedData.find((item) => item.value === val))\n    .filter((val) => !!val)\n    .map((item) => (\n      <Value\n        {...item}\n        disabled={disabled}\n        className={classes.value}\n        style={_styles.value}\n        onRemove={() => handleValueRemove(item.value)}\n        key={item.value}\n        themeOverride={themeOverride}\n        size={size}\n        styles={styles}\n        classNames={classNames}\n        radius={radius}\n      />\n    ));\n\n  const handleClear = () => {\n    handleSearchChange('');\n    setValue([]);\n    inputRef.current?.focus();\n  };\n\n  const shouldRenderDropdown =\n    filteredData.length > 0 ||\n    (searchValue.length > 0 && !!nothingFound && filteredData.length === 0);\n\n  return (\n    <InputWrapper\n      required={required}\n      id={uuid}\n      label={label}\n      error={error}\n      description={description}\n      size={size}\n      className={className}\n      style={style}\n      themeOverride={themeOverride}\n      classNames={classNames}\n      styles={styles}\n      __staticSelector=\"multi-select\"\n      {...wrapperProps}\n    >\n      <div\n        className={classes.wrapper}\n        style={_styles.wrapper}\n        role=\"combobox\"\n        aria-haspopup=\"listbox\"\n        aria-owns={`${uuid}-items`}\n        aria-controls={uuid}\n        aria-expanded={dropdownOpened}\n        onMouseLeave={() => setHovered(-1)}\n        tabIndex={-1}\n      >\n        <Input<'div'>\n          __staticSelector=\"multi-select\"\n          style={{ overflow: 'hidden' }}\n          classNames={classNames}\n          component=\"div\"\n          multiline\n          size={size}\n          variant={variant}\n          disabled={disabled}\n          invalid={!!error}\n          required={required}\n          radius={radius}\n          icon={icon}\n          onMouseDown={(event) => {\n            event.preventDefault();\n            inputRef.current?.focus();\n          }}\n          {...getSelectRightSectionProps({\n            styles: {\n              ...styles,\n              input: {\n                ...styles?.input,\n                cursor: !searchable ? (disabled ? 'not-allowed' : 'pointer') : undefined,\n              },\n            },\n            size,\n            shouldClear: clearable && _value.length > 0,\n            themeOverride,\n            clearButtonLabel,\n            onClear: handleClear,\n            error,\n          })}\n        >\n          <div className={classes.values} style={_styles.values}>\n            {selectedItems}\n\n            <input\n              ref={useMergedRef(elementRef, inputRef)}\n              type=\"text\"\n              id={uuid}\n              style={_styles.searchInput}\n              className={cx(classes.searchInput, {\n                [classes.searchInputPointer]: !searchable,\n                [classes.searchInputInputHidden]:\n                  (!dropdownOpened && _value.length > 0) || (!searchable && _value.length > 0),\n                [classes.searchInputEmpty]: _value.length === 0,\n              })}\n              onKeyDown={handleInputKeydown}\n              value={searchValue}\n              onChange={handleInputChange}\n              onFocus={handleInputFocus}\n              onBlur={handleInputBlur}\n              readOnly={!searchable}\n              placeholder={_value.length === 0 ? placeholder : undefined}\n              disabled={disabled}\n              {...others}\n            />\n          </div>\n        </Input>\n\n        <SelectDropdown\n          themeOverride={themeOverride}\n          mounted={dropdownOpened && shouldRenderDropdown}\n          transition={transition}\n          transitionDuration={transitionDuration}\n          transitionTimingFunction={transitionTimingFunction}\n          uuid={uuid}\n          shadow={shadow}\n          maxDropdownHeight={maxDropdownHeight}\n          classNames={classNames}\n          styles={styles}\n          elementRef={dropdownRef}\n          __staticSelector=\"multi-select\"\n        >\n          <SelectItems\n            data={filteredData}\n            hovered={hovered}\n            themeOverride={themeOverride}\n            classNames={classNames}\n            styles={styles}\n            uuid={uuid}\n            __staticSelector=\"multi-select\"\n            onItemHover={setHovered}\n            onItemSelect={handleItemSelect}\n            itemsRefs={itemsRefs}\n            itemComponent={itemComponent}\n            size={size}\n            nothingFound={nothingFound}\n          />\n        </SelectDropdown>\n      </div>\n    </InputWrapper>\n  );\n}\n\nMultiSelect.displayName = '@mantine/core/MultiSelect';\n"],"names":[],"mappings":"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"}